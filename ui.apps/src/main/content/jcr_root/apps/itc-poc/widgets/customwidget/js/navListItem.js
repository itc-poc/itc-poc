CQ.form.navListItem=CQ.Ext.extend(CQ.form.CompositeField,{bodyStyle:"background-color: #EBEBEB;",layout:"hbox",height:24,labelWidth:60,linkPathRoot:"/content/itc-poc",constructor:function(e){var b=this;var f={};CQ.Util.applyDefaults(e,f);CQ.form.navListItem.superclass.constructor.call(this,e);var a=function(){setTimeout(function(){b.doLayout();if(b.ownerCt){b.ownerCt.ownerCt.ownerCt.ownerCt.doLayout()}setTimeout(function(){$(b.el.dom).find(".x-box-inner").css("width","100%");b.doLayout()},1)},1)};this.linkText=new CQ.Ext.form.TextField({name:this.name+"/linkText",labelWidth:10,height:24,width:140});this.linkPath=new CQ.form.BrowseField({name:this.name+"/linkPath",width:180,height:24,style:"margin-top: 1px;",value:this.linkPathRoot});this.itemHasDropdown=new CQ.Ext.form.TextField({name:this.name+"/itemHasDropdown",width:"auto",height:24,hidden:true,value:"false"});this.itemHasDropdownCheckBox=new CQ.Ext.form.Checkbox({inputValue:"true",hideLabel:false,width:50,height:24,style:"margin-left: 15px;",isHeaderTextField:this.itemHasDropdown});this.itemHasDropdownCheckBox.on("check",function(){b.itemHasDropdown.setValue(b.itemHasDropdownCheckBox.getValue())});this.itemHasDropdown.on("change",function(){b.itemHasDropdownCheckBox.setValue(b.itemHasDropdown.getValue())});this.itemIsHighligtedCTA=new CQ.Ext.form.TextField({name:this.name+"/itemIsHighligtedCTA",width:"auto",height:24,hidden:true,value:"false"});this.itemIsHighlightedCTACheckbox=new CQ.Ext.form.Checkbox({inputValue:"true",hideLabel:false,width:50,height:24,style:"margin-left: 15px;",isHeaderTextField:this.itemIsHighligtedCTA});this.itemIsHighlightedCTACheckbox.on("check",function(){b.itemIsHighligtedCTA.setValue(b.itemIsHighlightedCTACheckbox.getValue())});this.itemIsHighligtedCTA.on("change",function(){b.itemIsHighlightedCTACheckbox.setValue(b.itemIsHighligtedCTA.getValue())});this.add(this.linkText);this.add(this.linkPath);this.add(this.itemHasDropdown);this.add({xtype:"box",style:"margin-top: 3px;margin-left:10px;",autoEl:{cn:"Does this nav item have a dropdown? "}});this.add(this.itemHasDropdownCheckBox);this.add(this.itemIsHighligtedCTA);this.add({xtype:"box",style:"margin-top: 3px;margin-left:10px;",autoEl:{cn:"Should this item be highlighted? "}});this.add(this.itemIsHighlightedCTACheckbox);a();if(this.ownerCt){this.ownerCt.ownerCt.addListener("activate",function(){a()})}},processRecord:function(a,b){this.linkText.setValue(a.get(this.linkText.getName()));this.linkPath.setValue(a.get(this.linkPath.getName()));this.itemHasDropdown.setValue(a.get(this.itemHasDropdown.getName()));this.itemHasDropdownCheckBox.setValue(a.get(this.itemHasDropdown.getName()));this.itemIsHighligtedCTA.setValue(a.get(this.itemIsHighligtedCTA.getName()));this.itemIsHighlightedCTACheckbox.setValue(a.get(this.itemIsHighligtedCTA.getName()))},getValue:function(){var a=new Array(this.linkText.getValue(),this.linkPath.getValue(),this.itemHasDropdown.getValue(),this.itemIsHighligtedCTA.getValue());return a},setValue:function(a){if(a){this.linkText.setValue(a.linkText);this.linkPath.setValue(a.linkPath);this.itemHasDropdown.setValue(a.itemHasDropdown);this.itemHasDropdownCheckBox.setValue(a.itemHasDropdown);this.itemIsHighligtedCTA.setValue(a.itemIsHighligtedCTA);this.itemIsHighlightedCTACheckbox.setValue(a.itemIsHighligtedCTA)}}});CQ.Ext.reg("navListItem",CQ.form.navListItem); 