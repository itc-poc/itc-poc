
<div data-sly-use.clientLib="${'/libs/granite/sightly/templates/clientlib.html'}" data-sly-unwrap>
    <meta data-sly-call="${clientLib.all @ categories='designs.itc.poc.components.articles.articlelist'}" data-sly-unwrap></meta>
</div>
<div data-sly-use.articleObject="${'com.adobe.itc.poc.core.models.ArticleList'}" data-sly-unwrap></div>
<div data-sly-test.isNewWindow1="${properties.newWindow1 == 'true'}" data-sly-unwrap></div>
<div data-sly-test.isNewWindow2="${properties.newWindow2 == 'true'}" data-sly-unwrap></div>


<div class="boxed-title" tabindex="0">${properties.title || 'Most Recent'}</div>
<div data-sly-use.articles="${'com.adobe.itc.poc.core.utils.ArticleUtils' @ path=properties.articlesPath || '4', listType='articlelist', isArticlePage=properties.isArticlePage}" data-sly-unwrap>
    <div data-sly-list.article="${articles.getArticleList}" data-sly-unwrap>
        <div class="article">
			<img data-sly-test="${pageProperties.articleImagePath}" src="${pageProperties.articleImagePath}" alt="Article image" />

                <div data-sly-test.isTarget="${isNewWindow1 == true || (isNewWindow1 == false && articleObject.target == true)}" data-sly-unwrap>
                	<h2><a name="articleTitle" href="${article.url}" target="_blank" aria-describedby="dateByLine_${articleList.count} describedby">describedby</a></h2>
                </div>

                <div data-sly-test.isNotTarget="${isNewWindow1 == false && articleObject.target == false}" data-sly-unwrap>
               		<h2  ><a name="articleTitle" href="${article.url}" aria-describedby="dateByLine_${articleList.count} describedby">${article.title}</a></h2>
                </div>
            <div class="date-byline" >
    			<span  data-sly-test="${article.getPostedBy}" >${article.getPostedBy}</span>
    			<span  data-sly-test="${article.getDateVal}" data-sly-use.date="${'com.adobe.itc.poc.core.utils.DateUtils' @ date=article.getDateVal}" id="dateByLine_${articleList.count}"> ${date.monthName} ${date.date}, ${date.year}</span>
            </div>

			<div data-sly-test="${properties.showArticleDesc == 'true'}" data-sly-unwrap>
				<div class="desc">
					<div data-sly-use.textObj="${ 'articlelist.js' @ text=article.desc, charLimit=properties.lengthOfDesc || '400'}" data-sly-unwrap>
                		${textObj.firstPart @ context='html'}
					</div>
					<div class="readMore">
                        <div data-sly-test.isTarget="${isNewWindow1 == true || (isNewWindow1 == false && articleObject.allArticleTarget == true)}" data-sly-unwrap>
                        	<a name="article_readMoreLink" href="${article.url}" target="_blank">Read more ›</a>
                        </div>
                        <div data-sly-test.isNotTarget="${isNewWindow1 == false && articleObject.allArticleTarget == false}" data-sly-unwrap>
                        	<a name="article_readMoreLink" href="${article.url}">Read more ›</a>
                        </div>

					</div>
				</div>
			</div>
        </div>
    </div>

    <h4 class="heading-4">
		<sly data-sly-use.urlGen="${'com.adobe.itc.poc.core.utils.ValidUrlGenerator' @ path=properties.allArticlesPagePath || '', type=''}">
			<div class="all-articles">
                <div data-sly-test.isTarget="${isNewWindow2 == true || (isNewWindow2 == false && articleObject.allArticleTarget == true)}" data-sly-unwrap>
                	<a name="article_allarticles" href="${urlGen.getCompletePath}" target="_blank">See All Artiles ›</a>
                </div>
               
                <div data-sly-test.isNotTarget="${isNewWindow2 == false && articleObject.allArticleTarget == false}" data-sly-unwrap>
                	<a name="article_allarticles" href="${urlGen.getCompletePath}">See All Artiles ›</a>
                </div>
            </div>
		<sly>
    </h4>

</div>

