<div data-sly-use.clientLib="${'/libs/granite/sightly/templates/clientlib.html'}" data-sly-unwrap>
   <meta data-sly-call="${clientLib.css @ categories='designs.itc-poc.components.buttons'}" data-sly-unwrap>
   </meta>
</div>
<div data-sly-test.iconPresent="${properties['faTileIcon'] ? properties['faTileIcon'] : '' }" data-sly-unwrap>
</div>
<div data-sly-test.customClasses ="${properties.customClasses}" data-sly-unwrap></div>
<div class="${customClasses}">
<sly data-sly-use.btn="buttons.js"/>
<div data-sly-use.obj="com.adobe.itc.poc.core.models.Buttons" data-sly-unwrap></div>
<div data-sly-test.id="${obj.currentNode}" data-sly-unwrap></div>
<div data-sly-test.backgroundColor="${obj.backgroundColor}" data-sly-unwrap></div>
<div data-sly-test.borderColor="${obj.borderColor}" data-sly-unwrap></div>
<div data-sly-test.fontColor="${obj.fontColor}" data-sly-unwrap></div>
<div data-sly-test.backgroundColorHover="${obj.backgroundColorHover}" data-sly-unwrap></div>
<div data-sly-test.borderColorHover="${obj.borderColorHover}" data-sly-unwrap></div>
<div data-sly-test.fontColorHover="${obj.fontColorHover}" data-sly-unwrap></div>

<!-- Logic for Button as default color-->
<div data-sly-test="${backgroundColor =='' || backgroundColor == null}" data-sly-unwrap>   
   <div data-sly-test.backgroundColor="405E71" data-sly-unwrap></div>
</div>

<div data-sly-test="${borderColor =='' || borderColor == null}" data-sly-unwrap>   
   <div data-sly-test.borderColor="405E71" data-sly-unwrap></div>
</div>


<div data-sly-test="${fontColor =='' || fontColor == null}" data-sly-unwrap>   
   <div data-sly-test.fontColor="FFFFFF" data-sly-unwrap></div>
</div>

<div data-sly-test="${backgroundColorHover =='' || backgroundColorHover == null}" data-sly-unwrap>   
   <div data-sly-test.backgroundColorHover="FFFFFF" data-sly-unwrap></div>
</div>

<div data-sly-test="${borderColorHover =='' || borderColorHover == null}" data-sly-unwrap>   
   <div data-sly-test.borderColorHover="405E71" data-sly-unwrap></div>
</div>

<div data-sly-test="${fontColorHover =='' || fontColorHover == null}" data-sly-unwrap>   
   <div data-sly-test.fontColorHover="000000" data-sly-unwrap></div>
</div>
<!-- Logic for Button as default color-->

<div data-sly-test="${(!properties['isChatButton'] || properties['isChatButton'] != 'true') && (!properties['isPhoneButton'] || properties['isPhoneButton']!= 'true') }" data-sly-unwrap>
   <sly data-sly-use.urlGen="${'com.adobe.itc.poc.core.utils.ValidUrlGenerator' @ path=properties.buttonURL, type=''}" />
</div>
<div data-sly-test="${properties['isChatButton'] == 'true' }" data-sly-unwrap>
   <sly data-sly-use.urlGen="${'com.adobe.itc.poc.core.utils.ValidUrlGenerator' @ path=properties.buttonURL, type='CHAT'}" />
</div>
<div data-sly-test="${properties['isPhoneButton'] == 'true' }" data-sly-unwrap>
   <sly data-sly-use.urlGen="${'com.adobe.itc.poc.core.utils.ValidUrlGenerator' @ path=properties.buttonURL, type='PHONE'}" />
</div>
<!-- Logic for Button as Entire SPan-->
<div data-sly-test="${properties['buttonWidth'] == 'btn-wide' }" data-sly-unwrap>   
   <div data-sly-test.buttonClass="buttonContainerFullWidth" data-sly-unwrap></div>
</div>
<div data-sly-test="${properties['buttonWidth'] != 'btn-wide' }" data-sly-unwrap>
   
	<div data-sly-test.buttonClass="buttonContainer" data-sly-unwrap></div>
</div>
<!-- End Logic for Button as Entire SPan-->
<!--/* test for button url opening in a new window: TRUE */-->
<div data-sly-test="${properties['newWindow'] == 'true' }" data-sly-unwrap>
   <!--/* test for regular buttons */-->
   <div data-sly-test="${properties['buttonType'] != 'btn-text' }" data-sly-unwrap>
      <!--/* test for icons on buttons */-->
      <div data-sly-test="${iconPresent !=''}" data-sly-unwrap>
         <div class="${buttonClass}" 
         ontouchstart="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColorHover @ context='styleToken'}'" 
         onmouseover="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColorHover @ context='styleToken'}'" onmouseout="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColor @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColor @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColor @ context='styleToken'}'">
            <a href="${urlGen.getCompletePath @ context='unsafe'}" data-currentpage="${currentPage.path}" class="targetButtonClass ${properties.noPadding && properties.noPadding == 'true' ? ' no-padding' : ''} ${properties['isChatButton']=='true' ? 'chat-link':''} ${properties['isPhoneButton']=='true' ? 'phoneNumberButton':''} btn ${properties['buttonType']} ${properties['buttonSize']} ${properties['buttonWidth']}" style="background-color: #${backgroundColor @ context='styleToken'}; color: #${fontColor @ context='styleToken'}; border: 3px solid #${borderColor @ context='styleToken'};" target="_blank">${properties.buttonText @ context='unsafe'}<i class="${iconPresent}" aria-hidden="true"></i></a>
         </div>
      </div>
      <div data-sly-test="${iconPresent == '' }" data-sly-unwrap>
         <div class="${buttonClass}"
         ontouchstart="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColorHover @ context='styleToken'}'" 
          onmouseover="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColorHover @ context='styleToken'}'" onmouseout="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColor @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColor @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColor @ context='styleToken'}'">
            <a href="${urlGen.getCompletePath @ context='unsafe'}" data-currentpage="${currentPage.path}" class=" targetButtonClass ${properties.noPadding && properties.noPadding == 'true' ? ' no-padding' : ''} ${properties['isChatButton']=='true' ? 'chat-link':''} ${properties['isPhoneButton']=='true' ? 'phoneNumberButton':''} btn ${properties['buttonType']} ${properties['buttonSize']} ${properties['buttonWidth']}" style="background-color: #${backgroundColor @ context='styleToken'}; color: #${fontColor @ context='styleToken'}; border: 3px solid #${borderColor @ context='styleToken'};" target="_blank">${properties.buttonText @ context='unsafe'}</a>
         </div>
      </div> 
   </div>
   <!--/* test for text link buttons */-->
   <div data-sly-test="${properties['buttonType'] == 'btn-text' }" data-sly-unwrap>
      <!--/* test for icons on buttons */-->
      <div data-sly-test="${iconPresent !=''}" data-sly-unwrap>
         <div class="${buttonClass}" onmouseover="            
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';"       
            onmouseout="this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColor @ context='styleToken'}';">
            <a href="${urlGen.getCompletePath @ context='unsafe'}" style="color:#${fontColor @ context='styleToken'}" data-currentpage="${currentPage.path}" class=" targetButtonClass ${properties.noPadding && properties.noPadding == 'true' ? ' no-padding' : ''} ${properties['isChatButton']=='true' ? 'chat-link':''} ${properties['isPhoneButton']=='true' ? 'phoneNumberButton':''} ${properties['buttonType']} ${properties['buttonSize']} ${properties['buttonWidth']}" target="_blank">${properties.buttonText @ context='unsafe'}<i class="${iconPresent}" aria-hidden="true"></i></a>
         </div>
      </div>
     <div data-sly-test="${iconPresent == '' }" data-sly-unwrap>
         <div class="${buttonClass}" onmouseover="            
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';"       
            onmouseout="this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColor @ context='styleToken'}';">
            <a href="${urlGen.getCompletePath @ context='unsafe'}" style="color:#${fontColor @ context='styleToken'}" data-currentpage="${currentPage.path}" class=" targetButtonClass${properties.noPadding && properties.noPadding == 'true' ? ' no-padding' : ''} ${properties['isChatButton']=='true' ? 'chat-link':''} ${properties['isPhoneButton']=='true' ? 'phoneNumberButton':''} ${properties['buttonType']} ${properties['buttonSize']} ${properties['buttonWidth']}" target="_blank">${properties.buttonText @ context='unsafe'}</a>
         </div>
     </div> 
   </div>
</div>
<!--/* test for button url opening in a new window: FALSE */-->
<div data-sly-test="${properties['newWindow'] != 'true' }" data-sly-unwrap>
   <!--/* test for regular buttons */-->
   <div data-sly-test="${properties['buttonType'] != 'btn-text' }" data-sly-unwrap>
      <!--/* test for icons on buttons */-->
      <div data-sly-test="${iconPresent != ''}"  data-sly-unwrap>
         <div class="${buttonClass}" ontouchstart="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColorHover @ context='styleToken'}'" 
            onmouseover="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColorHover @ context='styleToken'}'" onmouseout="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColor @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColor @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColor @ context='styleToken'}'">
            <a  href="${urlGen.getCompletePath @ context='unsafe'}" data-currentpage="${currentPage.path}" class=" targetButtonClass ${properties.noPadding && properties.noPadding == 'true' ? ' no-padding' : ''} ${properties['isChatButton']=='true' ? 'chat-link':''} ${properties['isPhoneButton']=='true' ? 'phoneNumberButton':''} btn ${properties['buttonType']} ${properties['buttonSize']} ${properties['buttonWidth']}" style="background-color: #${backgroundColor @ context='styleToken'}; color: #${fontColor @ context='styleToken'}; border: 3px solid #${borderColor @ context='styleToken'};">${properties.buttonText @ context='unsafe'}<i class="${iconPresent}" aria-hidden="true"></i></a>
         </div>
      </div>
     <div data-sly-test="${iconPresent == ''}" data-sly-unwrap> 
         <div class="${buttonClass}" ontouchstart="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColorHover @ context='styleToken'}'"
             onmouseover="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColorHover @ context='styleToken'}'" onmouseout="
            this.getElementsByClassName('targetButtonClass')[0].style.backgroundColor = '#${backgroundColor @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColor @ context='styleToken'}';
            this.getElementsByClassName('targetButtonClass')[0].style.border='3px solid #${borderColor @ context='styleToken'}'">
            <a href="${urlGen.getCompletePath @ context='unsafe'}" data-currentpage="${currentPage.path}" style="background-color: #${backgroundColor @ context='styleToken'}; color: #${fontColor @ context='styleToken'}; border: 3px solid #${borderColor @ context='styleToken'};" class=" targetButtonClass${properties.noPadding && properties.noPadding == 'true' ? ' no-padding' : ''} ${properties['isChatButton']=='true' ? 'chat-link':''} ${properties['isPhoneButton']=='true' ? 'phoneNumberButton':''} btn ${properties['buttonType']} ${properties['buttonSize']} ${properties['buttonWidth']}">${properties.buttonText @ context='unsafe'}</a>
         </div>
      </div> 
   </div>
  <!--/* test for text link buttons */-->
   <div data-sly-test="${properties['buttonType'] == 'btn-text' }" data-sly-unwrap>
      <!--/* test for icons on buttons */-->
      <div data-sly-test="${iconPresent != '' }" data-sly-unwrap>
         <div class="${buttonClass}"  onmouseover="            
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';"       
            onmouseout="this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColor @ context='styleToken'}';">
            <a href="${urlGen.getCompletePath @ context='unsafe'}" style="color:#${fontColor @ context='styleToken'}" data-currentpage="${currentPage.path}" class=" targetButtonClass${properties.noPadding && properties.noPadding == 'true' ? ' no-padding' : ''} ${properties['isChatButton']=='true' ? 'chat-link':''} ${properties['isPhoneButton']=='true' ? 'phoneNumberButton':''} ${properties['buttonType']} ${properties['buttonSize']} ${properties['buttonWidth']}">${properties.buttonText @ context='unsafe'}<i class="${iconPresent}" aria-hidden="true"></i></a>
         </div>
      </div>
      <div data-sly-test="${iconPresent == '' }" data-sly-unwrap>
          <div class="${buttonClass}"  onmouseover="            
            this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColorHover @ context='styleToken'}';"       
            onmouseout="this.getElementsByClassName('targetButtonClass')[0].style.color='#${fontColor @ context='styleToken'}';">
            <a href="${urlGen.getCompletePath @ context='unsafe'}" style="color:#${fontColor @ context='styleToken'}" data-currentpage="${currentPage.path}" class=" targetButtonClass${properties.noPadding && properties.noPadding == 'true' ? ' no-padding' : ''} ${properties['isChatButton']=='true' ? 'chat-link':''} ${properties['isPhoneButton']=='true' ? 'phoneNumberButton':''} ${properties['buttonType']} ${properties['buttonSize']} ${properties['buttonWidth']}">${properties.buttonText @ context='unsafe'}</a>
         </div>
      </div>
   </div>
</div>
</div>
<!--Moving javascript code included with the component to /etc/designs and including it below-->
<div data-sly-use.clientLib="${'/libs/granite/sightly/templates/clientlib.html'}" data-sly-unwrap>
   <meta data-sly-call="${clientLib.js @ categories='designs.itc-poc.components.buttons'}" data-sly-unwrap>
   </meta>
</div>
<script>

$( document ).ready(function() { 
						
		     /* Hover logic   */
			
			/* iPhone and iPad back button not refershing */
			$(window).bind("pageshow", function(event) {
			    if (event.originalEvent.persisted) { 
			        window.location.reload() 
			    }
			});
			/* iPhone and iPad back button not refershing */
                          

						   
                       
                });
</script>				




